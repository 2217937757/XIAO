<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<style>
			#canvas{
				border: 1px solid black;
			}
		</style>
	</head>
	<body>
		<canvas id="canvas" width="500" height="500"></canvas>

<!-- let stu4 = [
{num:'201905030801',name:'郝莹楠'},
{num:'201905030802',name:'张柯'}]; -->

<script src="http://2020wa.com/d/js/stu3.js"></script>
<script>
let c2d  = document.querySelector("#canvas").getContext('2d');
let arr = [];//存放所有人头像对象

for(let one of stu3){ //循环获取每一个同学的信息
	let img = getImg(one);
	arr.push(img);
}
console.log(arr);

//循环画出每一个头像
for(let img of arr){
	img.onload = function(){
		let x = parseInt(50+ Math.random()*400  ); 
		let y = parseInt(50+ Math.random()*400  );
		c2d.drawImage(img,x,y,40,40);
	}
}

//自定义函数getImg 获取生成网络图像 
function getImg(one){ //one = {num:'201905030801',name:'郝莹楠'}
	let img = new Image();
	let num = one.num.substr(9,3);//学号后3位
	img.src =  `http://2020wa.com/d/img/stu3/${num}${one.name}.jpg`;
	return img;
}



//创建图像
let img = new Image();
img.src =  "http://2020wa.com/d/img/头像.jpg";
//在头像资源加载完绘制
img.onload = function(){
	
	//c2d.drawImage(img,40,20,100,100);
}


// http://2020wa.com/d/img/stu4/333姓名.jpg 
let my = stu4[0];
document.write('<br>');
document.write( my.num );
document.write('<br>');
document.write( my.num.substr(9,3) ); //获取学号后3位
document.write(`http://2020wa.com/d/img/stu4/${my.num.substr(9,3)}${my.name}.jpg`); //获取学号后3位


</script>
		
	</body>
</html>
